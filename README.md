# ポモドーロタイマー

## 開発背景

日々の開発作業や学習において、集中力を高く維持するためのシンプルで効果的なツールを求め、このコマンドラインベースのポモドーロタイマーを開発しました。余計な機能や複雑な設定を排除し、「すぐに使える」ことに重点を置いています。

## 主な機能

- **ポモドーロタイマー**: 25 分間の作業タイマー
- **リアルタイム表示**: 残り時間とプログレスバーで、現在の状況を視覚的に確認
- **操作コマンド**: start（開始）、stop（一時停止）、reset（リセット）、end（終了）
- **CUI**: ANSI エスケープシーケンスを使用した、上書き式の画面表示

## 操作方法

| コマンド | 説明                   | 使用可能な状態           |
| -------- | ---------------------- | ------------------------ |
| `start`  | タイマーを開始         | メニュー画面、一時停止中 |
| `stop`   | タイマーを一時停止     | 実行中                   |
| `reset`  | タイマーをリセット     | 実行中、一時停止中       |
| `end`    | アプリケーションを終了 | 常時                     |

## 画面イメージ

### メインメニュー

```
--------------------------------------------------
ポモドーロアプリを起動しました。
メニューを入力してください。
開始: start / 終了: end
--------------------------------------------------
>
```

### タイマー実行中

```
--------------------------------------------------
作業を開始します。（25分）
残り 24:29 [[------------------------------]] 2%
停止: stop / リセット: reset / 終了: end
--------------------------------------------------
>
```

### 一時停止中

```
--------------------------------------------------
作業を停止しました。（25分）
残り 24:09 [[#-----------------------------]] 3%
開始: start / リセット: reset / 終了: end
--------------------------------------------------
>
```

## 使用技術と構成

- **言語**: Java 17
- **ビルドツール**: Apache Maven
- **テストフレームワーク**: JUnit 5
- **主な依存ライブラリ**: なし（Java 標準ライブラリのみで動作します）

## アーキテクチャ

### クラス構成

```
com.yoshitaka.pomodoro/
├── PomodoroApp.java      # メインアプリケーションクラス
├── TimerService.java     # タイマーの動作を管理
├── Display.java          # 画面表示を管理
├── TimerListener.java    # タイマーイベントのリスナーインターフェース
└── ProgressBar.java      # プログレスバー生成ユーティリティ
```

### 設計パターン

- **オブザーバーパターン**: `TimerListener`インターフェースを使用してタイマーの状態変化を通知
- **マルチスレッド**: ユーザー入力とタイマー処理を別スレッドで実行
- **状態管理**: `TimerService.State`列挙型でタイマーの状態を管理

### 主要な機能

1. **PomodoroApp**: アプリケーション全体の制御とユーザー入力の処理
2. **TimerService**: 25 分のカウントダウン処理と状態管理
3. **Display**: ANSI エスケープシーケンスを使用した画面表示
4. **ProgressBar**: 進捗を視覚的に表現するプログレスバーの生成

## ディレクトリ構成

| パス          | 説明                                    |
| ------------- | --------------------------------------- |
| .mvn/         | Maven Wrapper                           |
| src/main/java | アプリケーションのソースコード          |
| src/test/java | テストコード                            |
| .gitignore    | Git 管理対象外ファイル設定              |
| mvnw          | macOS/Linux 用 Maven Wrapper スクリプト |
| mvnw.cmd      | Windows 用 Maven Wrapper スクリプト     |
| pom.xml       | Maven プロジェクト設定ファイル          |
| Docs          | ドキュメント関係                        |

## 起動方法

### 1. ビルド (初回のみ)

プロジェクトのルートディレクトリで、以下のコマンドを実行してプロジェクトをビルドします。

```bash
./mvnw compile
```

### 2. 実行

以下のコマンドでアプリケーションを起動します。

```bash
./mvnw exec:java
```

### 3. テスト実行

以下のコマンドでテストを実行できます。

```bash
./mvnw test
```

### 4. パッケージ作成

以下のコマンドで実行可能な JAR ファイルを作成できます。

```bash
./mvnw package
```

作成された JAR ファイルは `target/pomodoro-app.jar` に出力されます。

### 5. JAR ファイルから直接実行

```bash
java -jar target/pomodoro-app.jar
```

## 開発者向け情報

### コードの特徴

- **初心者フレンドリー**: すべてのコードに詳細な日本語コメントを追加
- **設計パターンの学習**: オブザーバーパターン、マルチスレッド処理の実装例
- **テストカバレッジ**: 主要なクラスに対してユニットテストを実装
- **ANSI エスケープシーケンス**: ターミナル制御の実装例

### 学習ポイント

1. **マルチスレッドプログラミング**: ユーザー入力とタイマー処理の並行実行
2. **オブザーバーパターン**: イベント駆動プログラミングの実装
3. **状態管理**: 列挙型を使用した状態遷移の管理
4. **画面制御**: ANSI エスケープシーケンスによる CUI 制御

### 拡張のアイデア

- 休憩タイマーの追加
- 設定ファイルによる時間のカスタマイズ
- 統計情報の記録と表示
- 音声通知機能
- GUI 版の作成

## コントリビューション

このプロジェクトへの貢献を歓迎します。以下の方法で参加できます：

1. **バグ報告**: Issues で問題を報告してください
2. **機能提案**: 新機能のアイデアを提案してください
3. **プルリクエスト**: 修正や新機能の実装を送信してください

## ライセンス

このプロジェクトは MIT ライセンスのもとで公開されています。
